(this.webpackJsonpphotosearch=this.webpackJsonpphotosearch||[]).push([[0],{26:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var n,s=c(0),a=c.n(s),r=c(13),i=c.n(r),o=c(8),l=c.n(o),j=c(10),u=c(14),d=c(3),h=(c(26),c(15)),b=c(16).a.button(n||(n=Object(h.a)([" display: inline;\nfont-size:medium;\nbackground: #ff5d33f1;\ntransition: all 0.2s ease-in-out;\ncolor: white;\nborder: 0;\nheight:30px;\nborder-radius: 5px;\nmargin-left: 5px;\nmargin-right:4px;\nmargin-bottom:5px;\n &:hover {\n    box-shadow: -4px -4px 7px white, 4px 4px 7px gray;\n    background:#ec451bf1;\n  }\n  \n  &:active {\n    box-shadow: inset 1px 1px 2px white, inset -1px -1px 2px gray;\n  }"]))),p=c(1),O=function(e){var t=e.setInputQuery,c=(e.inputQuery,e.setPage),n=JSON.parse(localStorage.getItem("storedInput"))||[],a=Object(s.useState)(n),r=Object(d.a)(a,2),i=r[0],o=r[1],l=Object(s.useState)([]),j=Object(d.a)(l,2),u=j[0],h=j[1],O=Object(s.useState)(!0),m=Object(d.a)(O,2),g=m[0],f=m[1];return Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("div",{children:Object(p.jsx)("h1",{className:"title",children:"Search Images"})}),Object(p.jsx)("div",{children:Object(p.jsx)("h6",{className:"title",children:"Input and press enter to search awesome images!"})}),Object(p.jsxs)("div",{className:"searchContainer",children:[Object(p.jsx)("input",{type:"search",className:"search",onKeyUp:function(e){var n=e.target.value,s=i.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())}));h(s),f(!0),"Enter"===e.key&&""!==n&&(t(n),i.includes(n)||(i.push(n),localStorage.setItem("storedInput",JSON.stringify(i))),c(1))}}),Object(p.jsx)("div",{className:g?"searchString":"displayNone",children:u.length>0?Object(p.jsxs)(p.Fragment,{children:[u.map((function(e,c){return Object(p.jsx)("li",{onClick:function(){return t(e),void f(!1)},className:"searchSuggestions",style:{color:"black"},children:e},c)})),Object(p.jsx)(b,{onClick:function(){localStorage.getItem("storedInput")&&(localStorage.removeItem("storedInput"),o([]),f(!1))},children:"Clear"})]}):null})]})]})},m=c.p+"static/media/eImg.13468768.svg",g=function(e){e.message;return Object(p.jsxs)("div",{className:"errorImg",children:["You've reached the end!"?"":Object(p.jsx)("img",{src:m}),Object(p.jsx)("h5",{children:"You've reached the end!"})]})},f=function(e){var t=e.imagesArray,c=e.inputQuery,n=e.setOpenModal,a=e.setModalSrc,r=e.loading,i=e.page,o=e.setPage,l=e.totalPages,j=Object(s.useRef)(),u=Object(s.useCallback)((function(e){r||(j.current&&j.current.disconnect(),j.current=new IntersectionObserver((function(e){e[0].isIntersecting&&i<l&&o((function(e){return e+1}))})),e&&j.current.observe(e))}),[r,i]),d=function(e){n(!0),a(e)};return Object(p.jsxs)("div",{className:"imageContainer",children:[t===[]?Object(p.jsx)("h3",{children:"No results found"}):t.map((function(e,c){return t.length===c+1?Object(p.jsx)("img",{src:e,alt:"image-error",onClick:function(){return d(e)},ref:u}):Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:e,className:"homeImage",alt:"image-error",onClick:function(){return d(e)},style:{cursor:"pointer"}})})})),Object(p.jsx)("div",{className:"moreImages",children:""!==c&&i>l&&t.length>1?Object(p.jsx)(g,{message:"You've reached the end!"}):Object(p.jsx)("h3",{children:"Loading"})})]})},x=(c(12),function(e){var t=e.link,c=e.setOpenModal;return Object(p.jsx)("div",{className:"modalBack",children:Object(p.jsxs)("div",{className:"modalContainer",children:[Object(p.jsx)("div",{className:"modalClose",onClick:function(){c(!1)},children:Object(p.jsx)("i",{class:"fas fa-times-circle"})}),Object(p.jsx)("div",{className:"modalContent",children:Object(p.jsx)("img",{className:"image",alt:"image-error",src:t})})]})})}),v=c(20),k=c.n(v),y=function(){return Object(p.jsxs)("div",{className:"loading",children:[Object(p.jsx)("div",{children:Object(p.jsx)(k.a,{type:"Puff",color:"#ff5d33f1",height:200,width:200,timeout:5e3})}),Object(p.jsx)("div",{children:Object(p.jsx)("h3",{children:"Loading.."})})]})};var S=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),i=Object(d.a)(r,2),o=i[0],h=i[1],b=Object(s.useState)(!1),m=Object(d.a)(b,2),v=m[0],k=m[1],S=Object(s.useState)(""),N=Object(d.a)(S,2),w=N[0],I=N[1],C=Object(s.useState)(1),M=Object(d.a)(C,2),P=M[0],_=M[1],Q=Object(s.useState)(!1),E=Object(d.a)(Q,2),J=E[0],L=E[1],Y=Object(s.useState)(!1),A=Object(d.a)(Y,2),B=A[0],F=A[1],z=Object(s.useState)(1),K=Object(d.a)(z,2),R=K[0],U=K[1];function q(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],F(!0),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){c=e.photos.photo.map((function(e){return"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")})),n((function(e){return[].concat(Object(j.a)(e),Object(j.a)(c))})),U(e.photos.pages),console.log(R),F(!1)})).catch((function(e){L(!0),F(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=" https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=c603ee6ad346f3682d963bc43161ad94&page=".concat(P,"&tags=pets&safe_search=1&per_page=100&format=json&nojsoncallback=1");return Object(s.useEffect)((function(){""===w?q(G):q("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=c603ee6ad346f3682d963bc43161ad94&page=".concat(P,"&tags=").concat(w,"&safe_search=1&per_page=100&format=json&nojsoncallback=1"))}),[w,P]),Object(s.useEffect)((function(){n([])}),[w]),Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(O,{setInputQuery:I,inputQuery:w,setPage:_})}),Object(p.jsxs)("div",{className:"body",children:[B?Object(p.jsx)(y,{}):"",J?Object(p.jsx)(g,{message:"Oops! Some error occured while loading the images!"}):Object(p.jsx)(f,{imagesArray:c,setOpenModal:k,setModalSrc:h,loading:B,page:P,setPage:_,inputQuery:w,totalPages:R}),v?Object(p.jsx)(x,{link:o,setOpenModal:k}):""]})]})})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.0d89be5b.chunk.js.map