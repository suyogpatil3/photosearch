(this.webpackJsonpphotosearch=this.webpackJsonpphotosearch||[]).push([[0],{26:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var n,s=c(0),r=c.n(s),a=c(13),i=c.n(a),o=c(8),l=c.n(o),j=c(10),u=c(14),d=c(3),b=(c(26),c(15)),h=c(16).a.button(n||(n=Object(b.a)([" display: inline;\nfont-size:medium;\nbackground: #ff5d33f1;\ntransition: all 0.2s ease-in-out;\ncolor: white;\nborder: 0;\nheight:30px;\nborder-radius: 5px;\nmargin-left: 5px;\nmargin-right:4px;\nmargin-bottom:5px;\n &:hover {\n    box-shadow: -4px -4px 7px white, 4px 4px 7px gray;\n    background:#ec451bf1;\n  }\n  \n  &:active {\n    box-shadow: inset 1px 1px 2px white, inset -1px -1px 2px gray;\n  }"]))),O=c(1),p=function(e){var t=e.setInputQuery,c=(e.inputQuery,e.setPage),n=JSON.parse(localStorage.getItem("storedInput"))||[],r=Object(s.useState)(n),a=Object(d.a)(r,2),i=a[0],o=a[1],l=Object(s.useState)([]),j=Object(d.a)(l,2),u=j[0],b=j[1],p=Object(s.useState)(!0),m=Object(d.a)(p,2),f=m[0],g=m[1];return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{className:"title",children:"Search Images"})}),Object(O.jsx)("div",{children:Object(O.jsx)("h6",{className:"title",children:"Input and press enter to search awesome images!"})}),Object(O.jsxs)("div",{className:"searchContainer",children:[Object(O.jsx)("input",{type:"search",className:"search",onKeyUp:function(e){var n=e.target.value,s=i.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())}));b(s),g(!0),"Enter"===e.key&&""!==n&&(t(n),i.includes(n)||(i.push(n),localStorage.setItem("storedInput",JSON.stringify(i))),c(1))}}),Object(O.jsx)("div",{className:f?"searchString":"displayNone",children:u.length>0?Object(O.jsxs)(O.Fragment,{children:[u.map((function(e,c){return Object(O.jsx)("li",{onClick:function(){return t(e),void g(!1)},className:"searchSuggestions",style:{color:"black"},children:e},c)})),Object(O.jsx)(h,{onClick:function(){localStorage.getItem("storedInput")&&(localStorage.removeItem("storedInput"),o([]),g(!1))},children:"Clear"})]}):null})]})]})},m=c.p+"static/media/eImg.13468768.svg",f=function(e){var t=e.message;return Object(O.jsxs)("div",{className:"errorImg",children:[Object(O.jsx)("img",{src:m}),Object(O.jsx)("h5",{children:t})]})},g=c(20),x=c.n(g),v=function(){return Object(O.jsxs)("div",{className:"loading",children:[Object(O.jsx)("div",{children:Object(O.jsx)(x.a,{type:"Puff",color:"#ff5d33f1",height:200,width:200,timeout:5e3})}),Object(O.jsx)("div",{children:Object(O.jsx)("h3",{children:"Loading.."})})]})},y=function(e){var t=e.imagesArray,c=e.inputQuery,n=e.setOpenModal,r=e.setModalSrc,a=e.loading,i=e.page,o=e.setPage,l=Object(s.useRef)(),j=Object(s.useCallback)((function(e){a||(l.current&&l.current.disconnect(),l.current=new IntersectionObserver((function(e){e[0].isIntersecting&&i<10&&o((function(e){return e+1}))})),e&&l.current.observe(e))}),[a,i]),u=function(e){n(!0),r(e)};return Object(O.jsxs)("div",{className:"imageContainer",children:[t===[]?Object(O.jsx)("h3",{children:"No results found"}):t.map((function(e,c){return t.length===c+1?Object(O.jsx)("img",{src:e,alt:"image-error",onClick:function(){return u(e)},style:{cursor:"pointer"},ref:j}):Object(O.jsx)("img",{src:e,alt:"image-error",onClick:function(){return u(e)},style:{cursor:"pointer"}})})),Object(O.jsx)("div",{className:"moreImages",children:""!==c&&i<10&&t.length>1?Object(O.jsx)("h3",{children:"Loading"}):Object(O.jsx)(f,{message:"You've reached the end!"})})]})},k=(c(12),function(e){var t=e.link,c=e.setOpenModal;return Object(O.jsx)("div",{className:"modalBack",children:Object(O.jsxs)("div",{className:"modalContainer",children:[Object(O.jsx)("div",{className:"modalClose",onClick:function(){c(!1)},children:Object(O.jsx)("i",{class:"fas fa-times-circle"})}),Object(O.jsx)("div",{className:"modalContent",children:Object(O.jsx)("img",{className:"image",alt:"image-error",src:t})})]})})});var S=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),i=Object(d.a)(a,2),o=i[0],b=i[1],h=Object(s.useState)(!1),m=Object(d.a)(h,2),g=m[0],x=m[1],S=Object(s.useState)(""),w=Object(d.a)(S,2),N=w[0],I=w[1],C=Object(s.useState)(1),M=Object(d.a)(C,2),Q=M[0],E=M[1],P=Object(s.useState)(!1),J=Object(d.a)(P,2),L=J[0],_=J[1],A=Object(s.useState)(!1),B=Object(d.a)(A,2),F=B[0],z=B[1];function K(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],z(!0),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){c=e.photos.photo.map((function(e){return"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")})),n((function(e){return[].concat(Object(j.a)(e),Object(j.a)(c))})),z(!1)})).catch((function(e){_(!0),z(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U="https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=c603ee6ad346f3682d963bc43161ad94&page=".concat(Q,"&tags=dogs&format=json&nojsoncallback=1");return Object(s.useEffect)((function(){""===N&&K(U)}),[N,Q]),Object(s.useEffect)((function(){""!==N&&K("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=c603ee6ad346f3682d963bc43161ad94&page=".concat(Q,"&tags=").concat(N,"&format=json&nojsoncallback=1"))}),[N,Q]),Object(s.useEffect)((function(){n([])}),[N]),Object(O.jsx)(r.a.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)(p,{setInputQuery:I,inputQuery:N,setPage:E})}),Object(O.jsxs)("div",{className:"body",children:[F?Object(O.jsx)(v,{}):"",L?Object(O.jsx)(f,{message:"Oops! Some error occured while loading the images!"}):Object(O.jsx)(y,{imagesArray:c,setOpenModal:x,setModalSrc:b,loading:F,page:Q,setPage:E,inputQuery:N}),g?Object(O.jsx)(k,{link:o,setOpenModal:x}):""]})]})})};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.2b3a5d82.chunk.js.map